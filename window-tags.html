<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>window tags</title>
<meta name="generator" content="Org Mode" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
<meta property="og:title" content="window tags">
<meta property="og:description" content="Thoughts after 5 years">
<meta property="og:image" content="https://notes.neeasade.net/assets/posts/ca_dump3/e9ccefc9922159c185cad9226fce465e8e1e1c504de6234c9b61dfe5e5f713ae.png">
<meta property="og:url" content="https://notes.neeasade.net/window-tags">
<meta property="description" content="Thoughts after 5 years">
<meta name="twitter:card" content="summary">
<script src="./assets/js/linktext.js" defer></script>
<style> body {background: url("./assets/posts/ca_dump3/e9ccefc9922159c185cad9226fce465e8e1e1c504de6234c9b61dfe5e5f713ae.png") repeat;} </style>
<style> body {background-size: auto 223px !important; } </style>
<script src=".//assets/js/copy.js" defer></script>
<script data-goatcounter="https://neeasade.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
<script src="//instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>
<link rel='stylesheet' href='./assets/css/colors.css?sum=cbc7f86dcba5597749ac3221baabf396'>
<link rel='stylesheet' href='./assets/css/normalize.css?sum=112272e51c80ffe5bd01becd2ce7d656'>
<link rel='stylesheet' href='./assets/css/magick.css?sum=2ca97ca19bc03ef9dd1d6b45d109ec3a'>
<link rel='stylesheet' href='./assets/css/notes.css?sum=5146fda5bafcad0a7993df2ca8e83f58'>
</head>
<body>
<main id="content" class="content">
<header>
<div style="float: left">
    <a href='./index.html'>../notes</a>
</div>

<div style="float: right">
    
    
    <a href="https://raw.githubusercontent.com/neeasade/neeasade.github.io/source/posts/window-tags.org">source</a>
</div>
<h1 class=title>
    <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <rect x="5" y="15" width="20" height="20" fill="none" stroke="#444748" stroke-width="2"/>
        <rect x="14" y="6" width="20" height="20" fill="none" stroke="#444748" stroke-width="2"/>
    </svg>
    window tags
    <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
        <rect x="5" y="15" width="20" height="20" fill="none" stroke="#444748" stroke-width="2"/>
        <rect x="14" y="6" width="20" height="20" fill="none" stroke="#444748" stroke-width="2"/>
    </svg>
</h1>
<div class="org-center">
<p>
Thoughts after 5 years
</p>
</div>
<span class=pubinfo>
    Published 2025-08-14,
    last edit <a href="https://github.com/neeasade/neeasade.github.io/commits/source/posts/window-tags.org">2025-08-18</a>
</span>
<div class="posttags"> <a href='./tag-bspwm.html'>#bspwm</a><a href='./tag-windows.html'>#windows</a><a href='./tag-scripting.html'>#scripting</a><a href='./tag-dotfiles.html'>#dotfiles</a> </div>
</header>
<hr>
<p>
I used to be a multi-screen maximalist. Everyone knows the more monitors you
have the more powerful you are, right? I ran a triple-head setup turned in
<a href="https://notes.neeasade.net/rice.html#2016-01-28">various ways</a>, and it came with it&rsquo;s own challenges for my wm management and
window wants. One day I saw someone talking about their single monitor workflow
and they said it helped them focus. After some reflection I came to the
conclusion they were right - even if I&rsquo;m referencing docs, having windows side
by side rather than splatted helps me hone in on what matters. I would have to
be a little more intentional with <i>what</i> is on the single screen in front of me
instead of just splatting things into whatever space is available.
</p>

<p>
And so (initially as an experiment) I went from 3 mid monitors to one really
nice monitor. Many edge cases left my dotfiles. I didn&rsquo;t have to worry about
lemonbar&rsquo;s <a href="https://github.com/LemonBoy/bar/issues/163">-g flag</a> behaving oddly anymore. When the border of the monitor is the
edge of the total display, you don&rsquo;t have to worry about pseudo-borders for
things like window movement scripts. All in all it was a great success! The
result was a calmer, more focused desktop experience.
</p>

<p>
Around 2020 I saw a talk about the <a href="https://hikari.acmelabs.space/">hikari</a> wayland compositor and it mentioned
taking great inspo from <a href="https://man.openbsd.org/cwm">cwm</a>, a window group wm in the openbsd world. I did some
further digging and thought that window groups might be a fine thing to have,
and it might stack further into the single-monitor feels described above - after
all, you go from N virtual desktops to just 1, with tags for summoning or
dismissing things at will. Thus the latter half of 2020 saw a lot of tag/group
experiments for me, jamming the concept into bspwm with a script, currently
called <a href="https://github.com/neeasade/dotfiles/blob/master/bin/bin/btags"><code>btags</code></a>. <code>bspc</code> can hide windows by toggling a hidden flag on them -
After ~6 months of messing with the concept, things largely stabilized, though I
did come back to tweak the flow once or twice in the 5 years since.
</p>

<p>
So.. What worked? What didn&rsquo;t?
</p>

<div class=separator> ∗ ∗ ∗ </div>
<div id="outline-container-Overview:" class="outline-2">
<h2 id="Overview:">Overview:<a href="#Overview:">#</a></h2>
<div class="outline-text-2" id="text-Overview:">
<ul class="org-ul">
<li>I have 4 tags</li>
<li>Tags have their own associated border color</li>
<li>Toggling a tag just means flipping the hidden flag with bspc</li>
<li>I still tile my windows, am not interested in a floating experience</li>
</ul>
</div>
</div>
<div id="outline-container-Ideas-that-worked" class="outline-2">
<h2 id="Ideas-that-worked">Ideas that worked<a href="#Ideas-that-worked">#</a></h2>
<div class="outline-text-2" id="text-Ideas-that-worked">
</div>
<div id="outline-container-The-hole,-and-dismissal" class="outline-3">
<h3 id="The-hole,-and-dismissal">The hole, and dismissal<a href="#The-hole,-and-dismissal">#</a></h3>
<div class="outline-text-3" id="text-The-hole,-and-dismissal">
<p>
The 4th tag is my &ldquo;hole&rdquo; tag. It&rsquo;s where I banish windows I don&rsquo;t want to
see, but still keep them open - things like a torrent client, spare emacs
window, or steam. After a few years, I realized I needed a &ldquo;dismiss&rdquo; notion in
all this. Something to say &ldquo;idc where this window goes, but not here&rdquo;. Adding it
made my experience much smoother pretty much right away.
</p>
</div>
</div>
<div id="outline-container-Standard-roles-for-tags" class="outline-3">
<h3 id="Standard-roles-for-tags">Standard roles for tags<a href="#Standard-roles-for-tags">#</a></h3>
<div class="outline-text-3" id="text-Standard-roles-for-tags">
<p>
My tags uses are pretty much always:
</p>

<table>


<colgroup>
<col  class="org-right">

<col  class="org-left">

<col  class="org-left">
</colgroup>
<thead>
<tr>
<th scope="col">tag</th>
<th scope="col">use</th>
<th scope="col">name</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>emacs/code</td>
<td>code</td>
</tr>

<tr>
<td>2</td>
<td>qutebrowser</td>
<td>net</td>
</tr>

<tr>
<td>3</td>
<td>misc: chat, osrs, a document</td>
<td>misc</td>
</tr>

<tr>
<td>4</td>
<td>the hole</td>
<td>hole</td>
</tr>
</tbody>
</table>

<p>
This means that I can always hit <code>Alt+1</code> to see/cycle through emacs windows, or
2 for browsing. This predictability is extremely nice, I can always go to either
without thinking much about it. Summon chat for a second to type something and
then dismiss it? donezo.
</p>
</div>
</div>
<div id="outline-container-Subscription" class="outline-3">
<h3 id="Subscription">Subscription<a href="#Subscription">#</a></h3>
<div class="outline-text-3" id="text-Subscription">
<p>
Subscribing to bspwm events allows me to automatically assign tags to windows
based on their <code>WM_CLASS</code>, or inherit the value from the currently focused tag.
This means I don&rsquo;t have to assign window tags often, things go where they
should (ready to be summoned without thought)
</p>

<p>
Showing how I get the info to make those decisions:
</p>

<div class="org-src-container">
<pre class="src src-sh">bspc subscribe node_add | <span style="color: #0065c8;">while </span><span style="color: #0065c8;">read</span> -r event m d i wid; <span style="color: #0065c8;">do</span>
    <span style="color: #c6007f;">current_class</span>=$(<span style="color: #c6007f;">xprop WM_CLASS -id $wid</span>)
    <span style="color: #c6007f;">current_name</span>=$(<span style="color: #c6007f;">xprop WM_NAME -id $wid</span>)
    <span style="color: #c6007f;">last_class</span>=$(<span style="color: #c6007f;">xprop WM_CLASS -id $(bspc query -N last -n</span>))
    <span style="color: #6a6d6e;"># </span><span style="color: #6a6d6e;">...</span>
<span style="color: #0065c8;">done</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-Window-border-colors-from-tag" class="outline-3">
<h3 id="Window-border-colors-from-tag">Window border colors from tag<a href="#Window-border-colors-from-tag">#</a></h3>
<div class="outline-text-3" id="text-Window-border-colors-from-tag">
<p>
Using distinct colors, I can tell assigned tags at a glance (drawn with <a href="https://github.com/neeasade/opt">chwbn</a>):
</p>


<figure id="org5fa9e2d">
<a href="./assets/posts/btags.png"><img src="./assets/posts/btags.png" alt="btags.png"></a>

</figure>

<div class="org-center">
<p>
From the top left clockwise: net, code, code, hole
</p>
</div>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #6a6d6e;"># </span><span style="color: #6a6d6e;">tag, visible, border color, wids</span>
$ btags state-plain
code    true    e9a4d1  0x01ACB110 0x01AD21ED
net     true    7bcc7b  0x01E00013
chat    false   98bde1
hole    true    b9b9b9  0x01AE254F
none    true    000000  0x0340003B
</pre>
</div>
</div>
</div>
<div id="outline-container-Fishing" class="outline-3">
<h3 id="Fishing">Fishing<a href="#Fishing">#</a></h3>
<div class="outline-text-3" id="text-Fishing">
<p>
I have a script called <code>find_class</code> that finds and shows a <code>WM_CLASS</code>,
unhiding it if it is hidden - it does <span class="underline">not</span> touch the tag toggle state, which
allows me to view a window in a hidden tag. Thus, I can summon steam from the
hole without conjuring all the other windows I&rsquo;ve thrown in there, and it
returns on the next action that triggers a tag render.
</p>
</div>
</div>
</div>
<div id="outline-container-Ideas-that-didn't-pan-out" class="outline-2">
<h2 id="Ideas-that-didn't-pan-out">Ideas that didn&rsquo;t pan out<a href="#Ideas-that-didn't-pan-out">#</a></h2>
<div class="outline-text-2" id="text-Ideas-that-didn't-pan-out">
</div>
<div id="outline-container-Multiple-tags-per-window" class="outline-3">
<h3 id="Multiple-tags-per-window">Multiple tags per window<a href="#Multiple-tags-per-window">#</a></h3>
<div class="outline-text-3" id="text-Multiple-tags-per-window">
<p>
I thought it would be neat to allow multiple tags/groups per window, but in
practice this got messy super fast. Much easier to manage a single tag allowed
per window, and then do tag juggling higher level commands.
</p>
</div>
</div>
<div id="outline-container-Status-lines" class="outline-3">
<h3 id="Status-lines">Status lines<a href="#Status-lines">#</a></h3>
<div class="outline-text-3" id="text-Status-lines">
<p>
I gave <code>btags</code> an option to match the output format of <code>bspc subscribe</code> initially,
thinking it would be nice to plug and play into existing status bar helpers, but
ultimately ended up implementing a more plain status reporter and using it in my panel
</p>

<div class="org-src-container">
<pre class="src src-sh">$ btags state
: WMDP-0:Fa:Ob:Fc:ohole:fd:LT:TT:G
</pre>
</div>

<div class="org-src-container">
<pre class="src src-text">$ btags state-plain
a       true    e9a4d1
b       true    7bcc7b  0x01A25F85 0x01E00013 0x01E00013 0x01A219FF
c       true    98bde1
hole    false   b9b9b9  0x0340003B 0x01A042CE
none    true    000000
</pre>
</div>
</div>
</div>
<div id="outline-container-Resize-averse-applications" class="outline-3">
<h3 id="Resize-averse-applications">Resize-averse applications<a href="#Resize-averse-applications">#</a></h3>
<div class="outline-text-3" id="text-Resize-averse-applications">
<p>
In bspwm, showing/hiding a tiled node means re-inserting it into the tree, which
can result in many resize events in nearby windows. Some programs (terminals,
emacs, most websites) take this in stride, but occasionally you run into
programs that don&rsquo;t. The runelite runescape client was causing my entire wm to
freeze when being resized so often for the show/hide action.
</p>
</div>
</div>
</div>
<div id="outline-container-What-might-a-return-to-virtual-desktops-look-like-for-me?" class="outline-2">
<h2 id="What-might-a-return-to-virtual-desktops-look-like-for-me?">What might a return to virtual desktops look like for me?<a href="#What-might-a-return-to-virtual-desktops-look-like-for-me?">#</a></h2>
<div class="outline-text-2" id="text-What-might-a-return-to-virtual-desktops-look-like-for-me?">
<p>
I&rsquo;m writing this post because occasionally I feel like I should scrape this
whole notion and return to a more traditional setup. Let&rsquo;s think about it:
</p>

<ul class="org-ul">
<li>I&rsquo;d miss the &ldquo;summon browser&rdquo; key via tag focus - would probably make it a
search-for-browser instead?</li>
<li>The &ldquo;hole&rdquo; concept can still exist in an nth desktop, along with a dismissal notion</li>
<li>cycling between current window class could be a thing</li>
<li>I could get rid of btags and tag state most likely, simplify border handling
(would only have to worry about one focused window, no multi-color drawing)</li>
<li>Would be a feeling of &ldquo;going to&rdquo; windows rather than summoning/dismissing them
in one space
<ul class="org-ul">
<li>benefit: could leave some workspace in-progress with an idea alone for
awhile and pick it right back up</li>
</ul></li>
<li>Is it possible to have summon/dismiss notions with keybinds for desktop
flicking and not have it be keybind hell? right now these things are conflated
because it&rsquo;s done via tags, so I don&rsquo;t have to think about it, which is <i>very</i> nice.</li>
<li>Flicking through window class is more limited than a tagging notion because
you get to tag windows in an adhoc fashion. Is there some world where I mix
tags and desktops? I would want a way to show details of the current tab group
next to the desktop status - perhaps in the panel.</li>
<li>One thing that would be missing/have to implement if I wanted it: per desktop layouts</li>
</ul>

<footer>
    <div style="float: left">
         <a href='org--anki.html'>newer: org->anki</a> 
    </div>
    <div style="text-align: right">
         <a href='heart.html'>older: heart</a> 
    </div>
</footer>
<hr>
</div>
</div>
</main>
</body>
</html>
